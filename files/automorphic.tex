\documentclass{article}
\usepackage[utf8]{inputenc}

\newcommand{\nirpdftitle}{Student Automorphic Forms Seminar}
\usepackage{import}
\inputfrom{../../notes}{nir}
\usepackage[backend=biber,
    style=alphabetic,
    sorting=ynt
]{biblatex}
\setcounter{tocdepth}{2}

\pagestyle{contentpage}

\title{Student Automorphic Forms Seminar}
\author{Nir Elber}
\date{Fall 2024}
\usepackage{graphicx}

\begin{document}

\maketitle

\tableofcontents

\section{September 4th: Nir Elber}
Today we're talking about the local theory of Tate's thesis.

\subsection{A Little Global Theory}
In order to not lose perspective in the Fourier analysis that makes up the body of this talk, we discuss a little global theory. The goal of Tate's thesis is to derive analytic properties of $L$-functions such as the following.
\begin{definition}
	We define the \textit{Riemann $\zeta$-function} as
	\[\zeta(s)\coloneqq\prod_{p\text{ prime}}\frac1{1-p^{-s}}.\]
\end{definition}
\begin{definition}
	Given a Dirichlet character $\chi\colon(\ZZ/N\ZZ)^\times\to\CC^\times$, we define the \textit{Dirichlet $L$-function} by
	\[L(s,\chi)\coloneqq\prod_{p\text{ prime}}\frac1{1-\chi(p)p^{-s}}.\]
\end{definition}
\begin{definition}
	For a number field $K$, we define the Dedekind $\zeta$-function of a number field $K$
\[\zeta_K(s)\coloneqq\prod_{\substack{\mf p\subseteq\OO_K\\\mf p\text{ prime}}}\frac1{1-\op N(\mf p)^{-s}}.\]
\end{definition}
For now, ``analytic properties'' means deriving a meromorphic continuation, which in practice means deriving a functional equation.
\begin{remark}
	There is a common generalization of the above two $L$-functions called a ``Hecke $L$-function,'' but streamlined definitions would require a discussion of the adeles, which we are temporarily avoiding.
\end{remark}
In fact, Hecke had proven functional equations before Tate, but Tate's arguments modernize better, which is why we will talk about them.

By way of example, we state the functional equation for the Riemann $\zeta$-function $\zeta(s)$.
\begin{theorem}[Riemann] \label{thm:riemann-fe}
	Define the completed Riemann $\zeta$-function by
	\[\Xi(s)\coloneqq\pi^{-s/2}\Gamma(s)\zeta(s).\]
	Then $\Xi(s)$ admits an analytic continuation to all of $\CC$ and satisfies the functional equation $\Xi(s)=\Xi(1-s)$.
\end{theorem}
In some sense, the real goal of Tate's thesis is to explain the presence of the mysterious factor $\pi^{-s/2}\Gamma(s)$ which permits the functional equation $\Xi(s)=\Xi(1-s)$. To understand this, we write
\[\Xi(s)=\pi^{-s/2}\Gamma(s)\prod_{p\text{ prime}}\frac1{1-p^{-s}},\]
and the idea is that we should view this product over all places of $\QQ$: the factor $\pi^{-s/2}\Gamma(s)$ belongs to the archimedean place of $\QQ$!
\begin{idea}[Tate] \label{idea:l-function-places}
	Completed $L$-functions should be products over all places.
\end{idea}
Very roughly, \Cref{idea:l-function-places} allows us to reduce global functional equations into products of local ones.

\subsection{Local \texorpdfstring{$Z$}{ Z}-integrals}
We are interested in proving equations of the type $Z(s)\approx Z(1-s)$ for some suitable function $Z$. We will emply the following trick: we will show that both $Z(s)$ and $Z(1-s)$ live in the same one-dimensional space of functions and then study the scale factor between the two functions later.

To define our function $Z$, we take motivation from the definition of
\[\Gamma(s)=\int_{\RR^+}e^{-t}t^s\,\frac{dt}t.\]
We know that this should correspond to the archimedean place of $\QQ$, but we would like to extend this definition to the finite places. As such, we make the following observations.
\begin{itemize}
	\item $\RR$ is the completion of $\QQ$ with respect to the archimedean place.
	\item The function $t\mapsto e^{-t}$ is an additive character $\RR\to\CC^\times$.
	\item The function $t\mapsto t^{-s}$ is a multiplicative character $\RR^\times\to\CC^\times$.
	\item The measure $dt/t$ is a Haar measure of $\RR^+$.
\end{itemize}
To begin our generalizations, we recall the definition of a local field, which will place $\RR$ in the correct context.
\begin{definition}[local field]
	A \textit{local field} is a locally compact nondiscrete topological field. (Here, a topological field is one that requires the addition, multiplication, and inversion to all be continuous.) It turns out that local fields of characteristic zero are exactly the finite extensions of $\RR$ and $\QQ_p$.
\end{definition}
Next up, to place $dt/t$ in the correct context, we should define a Haar measure.
\begin{definition}[Haar measure]
	Fix a locally compact topological group $G$. Then a \textit{left-invariant Haar measure} $d\mu_\ell(g)$ is a Radon measure such that $\mu_\ell(gS)=\mu_\ell(S)$ for each $g\in G$ and measureable set $S$. In terms of intergrals, this is equivalent to
	\[\int_Gf(gh)\,dh=\int_Gf(h)\,dh\]
	for each $g\in G$ and integrable function $f$. It turns out that the Haar measure is unique up to scalar.
\end{definition}
\begin{remark}
	In general, a left-invariant Haar measure need not be right-invariant. However, this is frequently true: for example, if $G$ is abelian or ``reductive'' (such as $G=\op{GL}_n$), then left-invariant Haar measures are right-invariant.
\end{remark}
\begin{example}
	The Lebesgue measure $dt$ is a Haar measure on $\RR$. The measure $dt/\left|t\right|$ is a Haar measure on $\RR^+$ and $\RR^\times$.
\end{example}
\begin{example}
	Fix a prime $p$. There is a unique Haar measure $\mu$ on $\QQ_p$ such that $\mu(\ZZ_p)=1$. For example, we find that $\mu(a+p\ZZ_p)=\frac1p$ for each $a\in\QQ_p$.
\end{example}
\begin{remark}
	Local fields turn out be normed, though this is not immediately obvious from the definition. Even though $\RR$, $\CC$, and $\QQ_p$ all have natural norms (extended from $\QQ$), here is a hands-free way to obtain this norm from a local field $K$: choosing a Haar measure $dt$ on $K$, we define the norm $\left|a\right|$ of some $a\in K$ as the scalar such that
	\[d(at)=\left|a\right|dt.\]
	It is not at all obvious that $\left|\cdot\right|$ is a norm (in particular, why does it satisfy the triangle inequality?), but it is true. As an example, $\left|\cdot\right|$ is the square of the Euclidean norm on $\CC$. For $\QQ_p$, we find $\left|p\right|=1/p$.
\end{remark}
\begin{example}
	We are now able to say that $dt/\left|t\right|$ is a Haar measure of $K^\times$ for any local field $K$.
\end{example}
At this point, we may expect that our generalization of $\Gamma(s)$ to a generic local field $K$ to be
\[Z(\psi,\omega)=\int_K\psi(t)\omega(t)\,\frac{dt}{\left|t\right|},\]
where $\psi\colon K\to\CC^\times$ and $\omega\colon K^\times\to\CC^\times$ are characters. However, this is a little too rigid for our purposes.

Notably, by taking linear combinations of additive characters, Fourier analysis explains that understanding $\Gamma$ very well should permit understanding integrals of the form
\[\int_{\RR^+}f(t)t^s\,\frac{dt}t,\]
where $f\colon\RR\to\CC$ is some sufficiently nice function. It will help to have the flexibility that this extra $f$ permits.
\begin{definition}
	Fix a local field $K$. For a nice enough function $f$ and character $\omega\colon K^\times\to\CC^\times$, we define the \textit{local $Z$-integral}
	\[Z(f,\omega)\coloneqq\int_{K^\times}f(t)\omega(t)\,\frac{dt}{\left|t\right|}.\]
\end{definition}
We will not dwell on this, but perhaps we should explain what is required by ``nice enough'' function $f$. The keyword is ``Schwartz--Bruhat.''
\begin{definition}[Schwartz--Bruhat]
	Fix a local field $K$.
	\begin{itemize}
		\item If $K\in\{\RR,\CC\}$, we say $f\colon K\to\CC$ is \textit{Schwartz--Bruhat} if and only if it is infinitely differentiable and for all of its derivatives to decay rapidly (namely, $f(t)p(t)\to0$ as $\left|t\right|\to\infty$ for any polynomial $p$).
		\item For other $K$, we say $f\colon K\to\CC$ is \textit{Schwartz--Bruhat} if and only if it is locally constant and compactly supported.
	\end{itemize}
	We let $S(K)$ denote the vector space of Schwartz--Bruhat functions on $K$, and we let $S(K)'$ denote its dual (i.e., the vector space of distributions).
\end{definition}
\begin{example}
	The function $t\mapsto e^{-t^2}$ is a Schwartz--Bruhat function $\CC\to\CC$.
\end{example}
\begin{example}
	Fix a prime $p$. Then the indicator function $1_{\ZZ_p}$ on $\QQ_p$ is Schwartz--Bruhat.
\end{example}
Importantly, the definition of Schwartz--Bruhat will promise that 

\subsection{Fourier Analysis}
We now take a moment to review where we are standing. We were hoping to prove a statement like $Z(s)\approx Z(1-s)$, where $Z(s)$ perhaps has some kind analytic properties. However, we currently have a function $Z(f,\omega)$, so it's not at all obvious how to replace $f$ and $\omega$ with ``dual'' entries or how to make sense of analytic properties. In this subsection, we address both of these concerns; they are both related to character theory.

Going in order of difficulty, it is a little easier to explain how to add analytic structure to $Z$. After taking norms, we can find some $s\in\CC$ such $\left|\omega\right|=\left|\cdot\right|^s$ so that $\eta\coloneqq\omega\left|\cdot\right|^{-s}$ outputs to $S^1$, and
\[\omega=\eta\left|\cdot\right|^s.\]
Thus, we see that we can decompose characters $K^\times\to\CC^\times$ into a unitary part $\eta$ and an ``unramified'' part $\left|\cdot\right|^s$, and the unramified part now has a complex parameter $s\in\CC$. Namely, $\omega\left|\cdot\right|^{-s}$ now outputs to $S^1$; i.e., this character is unitary.
Fix a local field $K$.

Thus, we can view $Z(f,\eta)$ as having three parameters as $Z(f,\eta,s)\coloneqq Z\left(f,\eta\left|\cdot\right|^s\right)$, where we now require that $\eta$ is unitary. Because we already have some notion of smoothness in the parameter $s\in\CC$, it remains to understand smoothness in the parameter of unitary character $\eta$.
\begin{example}
	In the archimedean case, the parameter $\eta$ is not so interesting.
	\begin{itemize}
		\item The characters $\RR^\times\to S^1$ take the form $t\mapsto t^{-a}\left|t\right|^s$ where $a\in\{0,1\}$ and $s\in\CC$.
		\item The characters $\CC^\times\to S^1$ take the form $z\mapsto z^a\ov z^b\left|z\right|^s$ where $a,b\in\ZZ$ and $s\in\CC$.
	\end{itemize}
\end{example}
We now understand that our functional equation for $Z$ should arise from $Z(f,\eta,s)$. We hope to take $s\mapsto1-s$, and it seems reasonable (by looking at functional equations for $L(s,\chi)$) to replace $\eta$ with $\eta^{-1}$.

However, we still need to replace $f$ with some dual function. In the archimedean case, we expect this to be the Fourier transform defined by
\[\widehat f(s)\coloneqq\int_\RR f(t)e^{2\pi ist}\,dt.\]
Such a definition will more or less carry through for arbitrary local fields, but we will have to go through approximately the same dictionary that defined $Z(f,\omega)$ from $\Gamma(s)$. In particular, the functions $t\mapsto e^{2\pi ist}$ list the characters of $\RR$, so the above is the integration of our function $f$ against the list of characters. To this end, we pick up the following theorem.
\begin{theorem} \label{thm:local-self-dual}
	Fix a local field $K$. Then there exists a nontrivial character $\psi\colon K\to S^1$. Any choice of $\psi$ defines a bijection $K\to\widehat K$ by sending $a\in K$ to the character $\psi_a(t)\coloneqq\psi(at)$.
\end{theorem}
\begin{remark} \label{rem:lca-duality}
	For a general locally compact abelian group $G$, one can give $\widehat G\coloneqq\op{Hom}(G,\CC)$ a locally compact topology. With this topology in hand, one actually finds that the map $K\to\widehat K$ given by $a\mapsto\psi_a$ is an isomorphism of locally compact abelian groups. However, we do not currently have the need to work in this level of generality.
\end{remark}
We are now ready to define our Fourier transform.
\begin{definition} \label{def:local-fourier}
	Fix a local field $K$, and choose a nontrivial character $\psi\colon K\to S^1$. For $f\in S(K)$, we define the \textit{Fourier transform}
	\[\mc F_\psi f(t)\coloneqq\int_Kf(t)\psi(st)\,dt.\]
\end{definition}
\begin{example}
	For $K=\RR$, choose $\psi(t)\coloneqq e^{2\pi it}$. Then the Fourier transform (up to normalization) agrees with the usual one
	\[\mc F_\psi f(t)\coloneqq\int_\RR f(t)e^{2\pi ist}\,dt.\]
\end{example}
It turns out that one has the usual properties for the Fourier transform, such as $\mc F_\psi\mc F_\psi f(t)=f(-t)$.

We are now ready to state the local functional equation.
\begin{theorem} \label{thm:local-fe}
	Fix a local field $K$, and choose a nontrivial character $\psi\colon K\to S^1$. For every $f\in S(K)$, the function $Z(f,\omega,s)$ has a meromorphic continuation to $s\in\CC$ (with well-understood poles) and satisfies a functional equation of the form
	\[Z(f,\omega,s)=\gamma(\psi,\omega,s,dx)Z\left(\mc F_\psi f,\omega^{-1},1-s\right),\]
	where $\gamma(\psi,\omega,s,dx)$ is meromorphic in $s\in\CC$ (with well-understood poles).
\end{theorem}
Tate's original proof of \Cref{thm:local-fe} was more or less by an explicit computation: by some argument interchanging integrals, one can relate $Z(f,\omega,s)$ with $Z(g,\omega,s)$ for separate $f,g\in S(K)$, which allows us to reduce the proof to a single $f$. Then one chooses some $f$ such that $\mc F_\psi f=f$ (e.g., one chooses a Gaussian when $K=\RR$) and does an explicit computation to check the result.

\subsection{Multiplicity One}
We are not going to prove \Cref{thm:local-fe} in detail, but we will gesture towards an argument which uses a bit more functional analysis and less explicit computation. The key point is that $Z(-,\omega)\colon S(K)\to\CC$ is a distribution with the curious property that
\[\int_{K^\times}f(at)\omega(t)\,\frac{dt}t=\omega^{-1}(a)\int_{K^\times}f(t)\omega(t)\,\frac{dt}{\left|t\right|}.\]
Thus, we see that $Z(-,\omega)$ is an eigendistribution of sorts. To make this more explicit, we let $K^\times$ act on $S(K)$ by translation: for $a\in K$ and $f\in S(K)$, we define $(r(a)f)(t)\coloneqq f(at)$. Then $K^\times$ acts on the distributions $S(K)'$ accordingly: for $a\in K$ and $\lambda\in S(K)'$ and $f\in S(K)$, we can define
\[\langle r'(a)\lambda,f\rangle\coloneqq\left\langle\lambda,r(a)^{-1}f\right\rangle.\]
Tracking everything through, we see that $Z(-,\omega)\in S(K)'$ is an eigendistribution for the action of $K^\times$ on $S(K)'$ with eigenvalue given by the character $\omega$.
\begin{notation}
	Let $S(K)'(\omega)$ denote the space of $K^\times$-eigendistributions with eigenvalue $\omega$.
\end{notation}
Now, we see that $Z(-,\omega)\in S(K)'(\omega)$, and one can check that $Z\left(\mc F_\psi-,\omega^{-1}\right)$ is also in $S(K)'(\omega)$. Thus, a statement like \Cref{thm:local-fe} will follow from the following ``representation-theoretic'' multiplicity one result.
\begin{theorem} \label{thm:mult-one}
	Fix a local field $K$ and character $\omega\colon K\to\CC^\times$. Then
	\[\dim S(K)'(\omega)=1.\]
\end{theorem}
Let's explain the sort of inputs that go into proving \Cref{thm:mult-one}, but we will not say more.
\begin{itemize}
	\item One can verify that $Z(-,\omega)$ provides some vector in $S(K)'(\omega)$, so this space is at least nonempty.
	\item Let $C_c^\infty(K)$ denote the set of compactly supported Schwartz functions on $K$. Duality provides an exact sequence
	\[0\to S(K)'_0\to S(K)'\to C_c^\infty(K)'\to0,\]
	where $S(K)'_0$ denotes the distributions supported at $0$. Taking eigenspaces, we get an exact sequence
	\[0\to S(K)'_0(\omega)\to S(K)'(\omega)\to C_c^\infty(K)'(\omega).\]
	\item One can show that $C_c^\infty(K)'(\omega)$ is one-dimensional with basis given by $f\mapsto\int_Kf(t)\omega(t)\,dt/\left|t\right|$.
	\item Understanding $S(K)'_0$ comes down to some casework. For example, we look at the nonarchimedean case. If $\omega$ is trivial, we have the distribution $f\mapsto f(0)$; otherwise, $S(K)'_0(\omega)$ is zero.
\end{itemize}

\section{September 11: Reed Jacobs}
Today we are talking about the global theory of Tate's thesis. This will mostly be an excuse to discuss the adeles.

\subsection{Adeles}
For today, $K$ is a global field; in particular, it is a number field (in characteristic $0$) or a finite extension of $\FF_p(t)$ (in postive characteristic $p>0$). Here is our main character for today.
\begin{definition}[adele ring]
	Fix a global field $K$, and let $V_K$ denote the set of places of $K$. Then the \textit{adele ring $\AA_K$} is the restricted direct product
	\[\AA_K\coloneqq\prod_{v\in V_K}(K_v,\OO_v).\]
	Here, this notation means that $\AA_K$ consists of infinite tuples $(a_v)_v\in\prod_{v\in V_K}K_v$ where $a_v\in \OO_v$ for all but finitely many places $v\in V_K$.
\end{definition}
\begin{remark}
	Even though $\OO_v$ may not have a definition for infinite $v$, we see that this does not matter because there are only finitely many infinite places anyway.
\end{remark}
\begin{remark}
	We see that $\AA_K$ becomes a ring under the pointwise operations. In fact, it becomes a topological ring when given the subspace topology of the product topology on $\prod_vK_v$. In particular, upon taking the intersection, we see that our basic open sets look like
	\[\prod_{v\in V_K}U_v,\]
	where $U_v\subseteq K_v$ is open, but $U_v=\OO_v$ for all but finitely many $v\in V_K$.
\end{remark}
Here are some quick properties of the topology.
\begin{proposition}
	Fix a global field $K$. Then $\AA_K$ is a locally compact topological ring.
\end{proposition}
\begin{proof}
	The fact that the ring operations are continuous can be checked pointwise on the level of the product $\prod_vK_v$. Perhaps we should also check that $\AA_K$ is Hausdorff, for which we note that this follows from being a subspace of $\prod_vK_v$ again.
	
	To be locally compact, we have to do a little more work. This follows more or less  Fix some $x\in\AA_K$, and we want some open neighborhood $U\subseteq\AA_K$ of $x$ with compact closure. By translation, we may assume that $x=0$. Then the open subset
	\[\prod_{\substack{v\in V_K\\v\text{ infinite}}}B_v(0,1)\times\prod_{\substack{v\in V_K\\v\text{ finite}}}\OO_v,\]
	where $B_v(0,1)$ is the open ball around $0\in K_v$. This is open by construction, and its closure $\prod_{v\in V_K}\overline{B_v(0,1)}$ is a product of compact sets and hence compact.
\end{proof}
\begin{remark}
	Do note that $\prod_vK_v$ fails to be locally compact because the open subsets are too big! This is one reason why we want to work with the adeles instead: once has a chance of doing some reasonable topology on $\AA_K$.
\end{remark}
To misquote Tate, we remark that one can really only extract arithmetic information from $\AA_K$ by putting $K$ inside it. Here is this embedding.
\begin{proposition}
	Fix a global field $K$. Then the embedding $i\colon K\into\AA_K$ defined by
	\[i\colon a\mapsto(a)_v\]
	is discrete and cocompact.
\end{proposition}
\begin{proof}
	We will not prove cocompactness; it is equivalent to the finiteness of the class group and Dirichlet's unit theorem. Alternatively, one can use Minkowski theory to show this directly.

	Discreteness is a little easier to show. For $a\in K$, we must show that $i(a)$ has an open neighborhood disjoint from the rest of $i(K)$. By translating, we may take $a=0$. Now, define the open neighborhood of $0$ given by
	\[U\coloneqq\prod_{\substack{v\in V_K\\v\text{ infinite}}}B_v(0,1)\times\prod_{\substack{v\in V_K\\v\text{ finite}}}\OO_v.\]
	Now, for any $b\in K^\times$, the product formula asserts that $\prod_v\left|b\right|_v=1$, but $\prod_v\left|b_v\right|_v<1$ for any $(b_v)_v\in U$, so $U\cap i(K)=\{0\}$, as required.
\end{proof}
The above cocompactness tells us that the quotient $\AA_K/K$ will be interesting to us; similarly, the group $\AA_K^\times/K^\times$ will be interesting to us.

\subsection{Some Pontryagin Duals}
We have some time, so let's expand the discussion of \Cref{rem:lca-duality}.
\begin{definition}
	Fix a locally compact abelian group $G$. Then we define the group $G\coloneqq\op{Hom}\left(G,S^1\right)$ to be the \textit{Pontryagin dual}, which we turn into a topological group by giving it the compact-open topology. It turns out that $\widehat G$ is a locally compact abelian group.
\end{definition}
\begin{example}
	\Cref{thm:local-self-dual} explains that local fields $K_v$ are self-dual.
\end{example}
\begin{example}
	One can check that a character $\ZZ\to S^1$ has equivalent data to an element of $S^1$, which essentially proves $\widehat{\ZZ}\cong S^1$.
\end{example}
\begin{example}
	On the other hand, a continuous homomorphism $S^1\to S^1$ must be exponentiation by some integer, so $\widehat{S^1}\cong\ZZ$.
\end{example}
\begin{remark}
	It is a general fact that the Pontryagin dual of $\widehat G$ is isomorphic to $G$. There is at least a map $G\to\op{Hom}\left(\widehat G,S^1\right)$ given by $g\mapsto\op{ev}_g$, where $\op{ev}_g\colon\widehat G\to S^1$ is given by $\op{ev}_g(\chi)\coloneqq\chi(g)$.
\end{remark}
We even have a nice duality, as in \Cref{thm:local-self-dual}.
\begin{theorem} \label{thm:adele-self-dual}
	Fix a global field $K$. Then the locally compact abelian group $\AA_K$ is self-dual. More precisely, there exists a nontrivial character $\psi\colon\AA_K\to S^1$. Then for any choice of $\psi$, then the map $\AA_K\to\widehat{\AA_K}$ given by
	\[a\mapsto(\psi_a\colon t\mapsto\psi(at))\]
	is an isomorphism of locally compact abelian groups.
\end{theorem}
\begin{proof}[Sketch]
	This follows roughly from \Cref{thm:local-self-dual}, essentially by trying to take a product of the self-duality results for each local field in the restricted direct product. A detailed proof would require understanding the topology of the Pontryagin dual in more detail, so we will avoid it.
\end{proof}
Here is an application.
\begin{corollary} \label{cor:dual-global}
	Fix a global field $K$. Then the Pontryagin dual of $K$ is $\AA_K/K$.
\end{corollary}
\begin{proof}
	Fix a nontrivial character $\psi\colon\AA_K/K\to S^1$ (note the quotient!), and we construct that the composite
	\[K\into\AA_K\stackrel\psi\cong\widehat{\AA_K},\]
	where the last map is given by \Cref{thm:adele-self-dual}. Now, this composite actually outputs to $\widehat{\AA_K/K}$: any $a\in K$ produces a character $\psi_a$ satisfying $\psi_a(t)=\psi(at)=1$ for each $t\in K$, so $\psi_a$ descends to a character of $\AA_K/K$. We claim that the above map is an isomorphism, which we do by combining three observations.
	\begin{itemize}
		\item We can check that $\widehat{\AA_K/K}$ is a vector space over $K$.
		\item Note $\AA_K/K$ is compact, so $\widehat{\AA_K/K}$ is discrete by some fact of Pontryagin duals.
		\item Note $\widehat{\AA_K/K}/K\subseteq\widehat{\AA_K}/K\cong\AA_K/K$, and this last space is compcat.
	\end{itemize}
	The last two observations imply $\widehat{\AA_K/K}$ is finite, but then the first observation requires it to be trivial.
\end{proof}

\subsection{A Poisson Summation Formula}
The presence of a duality permits a well-behaved Fourier analysis. For our technicalities, we explain what our Schwartz functions are.
\begin{definition}[Schwartz]
	A \textit{Schwartz--Bruhat} function $f$ on the quotient $\AA_K/K$ is a function of the form $\prod_\nu f_\nu$ such that each $f_\nu$ is Schwartz, and $f_\nu=1_{\OO_\nu}$ for all but finitely many $\nu$. We also permit finite $\CC$-linear combinations of these functions to be Scwhartz--Bruhat.
\end{definition}
And here is our corresponding Fourier transform; it is our global analogue of \Cref{def:local-fourier}.
\begin{definition}
	Fix a global field $K$, and choose a nontrivial character $\psi\colon\AA_K/K\to S^1$. For any Schwartz--Bruhat function $f$, then we define the \textit{Fourier transform} to be
	\[\mc F_\psi f(y)\coloneqq\int_{x\in\AA_K}f(x)\psi(xy)\,dx.\]
\end{definition}
\begin{remark} \label{rem:general-fourier-trans}
	For the discussion which follows shortly, it will be worth our time to write out what the Fourier transform is in general for a locally compact abelian group $G$. Given a nice enough function $f\colon G\to\CC$ (such as Schwartz--Bruhat), the Fourier transform $\widehat f$ is a function on $\widehat G$ defined by
	\[\widehat f(\chi)\coloneqq\int_Gf(g)\chi(g)\,dg.\]
	For example, the identification of characters of $\AA_K$ with $\AA_K$ recovers the above definition. One finds that taking the Fourier transform twice almost recovers the original function.
\end{remark}
Notably, the Fourier transform depends on a choice of Haar measure. These can be found by taking the product of the Haar measures on the local fields; by scaling, we can get the usual identity $\mc F_\psi\mc F_\psi f(x)=f(-x)$.

Riemann's original proof of \Cref{thm:riemann-fe} has the result more or less follow from some functional equation coming from a Poisson summation formula. As such, we desire a Poisson summation formula in our context as well. The point of a Poisson summation formula is to relate sums for a function $f$ over the discrete cocompact subgroup $\ZZ\subseteq\QQ$ with the same sums of the Fourier transform. Because $K\subseteq\AA_K$ is discrete and cocompact, it is natural to have the following statement.
\begin{theorem}[Poisson summation] \label{thm:adelic-p-s}
	Fix a global field $K$, and choose a nontrivial character $\psi\colon\AA_K/K\to S^1$. For any Schwartz--Bruhat function $f$, we have
	\[\sum_{\gamma\in K}f(\gamma)=\sum_{\gamma\in K}\mc F_\psi f(\gamma).\]
\end{theorem}
\begin{proof}
	Define $F\colon\AA_K\to\CC$ by
	\[F(x)\coloneqq\sum_{\gamma\in K}f(x+\gamma).\]
	Note that $F$ descends to a function on $\AA_K/K$. Quickly, note that the convergence of these sums follows from our definition of Schwartz--Bruhat; the convergence is fast enough to ensure that we get a continuous function on $\AA_K/K$. We will spend the rest of the proof ignoring convergence issues.
	
	The point is to compute the Fourier transform of $F$ and apply Fourier inversion. However, $F$ has descended to a function on $\AA_K/K$, so its Fourier transform should be a function on the Pontryagin dual of $\AA_K/K$, which is $K$ by \Cref{cor:dual-global}. As such, we let $D\subseteq\AA_K$ be a fundamental domain for $\AA_K/K$, which we give a volume of $1$ to fix our Haar measure, and we compute
	\begin{align*}
		\mc F_\psi F(y) &= \int_{\AA_K/K}F(x)\psi(xy)\,dx \\
		&= \int_DF(x)\psi(xy)\,dx \\
		&= \int_D\sum_{\gamma\in K}f(x+\gamma)\psi(xy)\,dx \\
		&= \sum_{\gamma\in K}\int_Df(x+\gamma)\psi(xy)\,dx \\
		&= \sum_{\gamma\in K}\int_Df(x)\psi((x-\gamma)y)\,dx \\
		&\stackrel*= \sum_{\gamma\in K}\int_Df(x)\psi(xy)\,dx \\
		&= \mc F_\psi f(y),
	\end{align*}
	where $\stackrel*=$ holds because $\psi|_K=1$. The general theory of Pontryagin duality allows us to apply a Fourier inversion formula for $\widehat K\cong\AA_K/K$ to see $F(x)$ equals
	\[\sum_{y\in K}\widehat F(y)\overline{\psi(xy)}=\sum_{y\in K}\mc F_\psi f(y)\overline{\psi(xy)}.\]
	(Note that this is basically the Fourier transform of the Fourier transform, where we are plugging into the general definition of \Cref{rem:general-fourier-trans}.) Plugging in $x=0$ completes the proof!
\end{proof}
\begin{remark}[Reed]
	In the case where $K$ is the function field of a curve $C$ over a finite field $\FF_q$, one is able to turn \Cref{thm:adelic-p-s} into the Riemann--Roch theorem for $C$. We will not explain this in detail.
\end{remark}
\begin{remark}
	One can basically mimic the proof of \Cref{thm:riemann-fe} to prove a functional equation for ``global $Z$-integrals'' which look like
	\[Z(f,\chi)\coloneqq\int_{\AA_K^\times}f(x)\chi(x)\,d^\times x,\]
	where $d^\times x$ is some suitably defined Haar measure on $\AA_K^\times$. The key analytic input into the proof of \Cref{thm:riemann-fe} is a Poisson summation formula used to produce the symmetry; analogously, the key input into the global functional equation is the ``adelic Poisson summation formula'' \Cref{thm:adelic-p-s} used to produce the symmetry.
\end{remark}

\section{September 18th: Nir Elber}
I filled in for Saud Molaib, who has a last-minute cancellation.

% \subsection{Algebraic Groups}

% \subsection{Reductive Groups}

% \subsection{Borel Subgroups}

\section{September 25th: Justin Wu}
Today we are discussing how to put a topology on the adeles and related groups.

We begin by fixing some notation. Today, $F$ will be a global field, and $V(F)$ is its set of places. Throughout, $S\subseteq V(K)$ will be a finite subset, usually including the finite set $\infty$ of infinite places. We define the adele ring as the usual restricted direct product
\[\AA_F=\prod_{v\in V(K)}(F_v,\OO_v).\]
For our finite set $S$, we define
\begin{align*}
	\AA_F^S &\coloneqq \prod_{v\notin S}(F_v,\OO_v) \\
	F_S &\coloneqq \AA_{F,S}\coloneqq\prod_{v\in S}F_v \\
	\widehat\OO_F^S &\coloneqq\prod_{v\notin S}\OO_v.
\end{align*}
For example, $\AA_F^\emp=\AA_F$, and $\widehat\OO_F^\infty$ is compact.
\begin{remark}
	There is not a unified consensus on notation. We are agreeing with Getz and Hahn.
\end{remark}

\subsection{Topology from Topological Rings}
For an affine scheme $X$ over $F$, we would like to give a topology on $X(\AA_F)$. It is not totally obvious how to do this. The classical example is that $\AA_F$ is a topological ring, and we may want to give a topology on its units $\AA_F^\times$, but $\AA_F^\times$ will fail to be a topological group if given the subspace topology from $\AA_F$: the inversion map $\AA_F^\times\to\AA_F^\times$ won't be continuous!

The correct way to proceed is to use the closed embedding $j\colon\mathbb G_m\to\mathbb A^2$ given by $x\mapsto\left(x,x^{-1}\right)$, which is a closed embedding onto
\[\left\{(x,y)\in\AA^2:xy=1\right\}.\]
Then we can give $\mathbb A_F^\times$ the subspace topology from $\AA^2$. In particular, inversion when passed through this embedding $j$ merely permutes the two coordinates, so it succeeds at being continuous, even for a general ring $R$! Here is the general result.
\begin{theorem}
	Fix a Hausdorff topological ring $R$. There is a unique way to give a topology on the collection of sets $X(R)$ as $X$ varies over the collection of finite type affine $R$-schemes satisfying the following.
	\begin{listalph}
		\item Functoriality: scheme maps $X\to Y$ produce continuous maps $X(R)\to Y(R)$.
		\item Fiber products: given maps $X\to Z$ and $Y\to Z$, the topology on $(X\times_ZY)(R)$ is the topology induced by the fiber product $X(R)\times_{Z(R)}\times Y(R)$.
		\item Closed embeddings: given a closed embedding $X\to Y$ of schemes, one gets a closed embedding $X(R)\to Y(R)$ of topological spaces.
		\item Affine space: the topology on $\AA^1(R)$ is the topology on $R$.
	\end{listalph}
\end{theorem}
\begin{proof}[Sketch]
	We show uniqueness, but we won't show existence. For any affine $R$-scheme $X$ of finite type, we know that there is some $r>0$ and a closed embedding $X\into\AA^r$. Then the topology no $\AA^r(R)$ is fixed by the topology on $\AA$ and taking fiber products, so the topology on $X(R)\subseteq\AA^r(R)$ is fixed by having a closed embedding.
\end{proof}
\begin{example}
	We see that the group $\op{GL}_n$ has a closed embedding into $M_n\times M_n$ via $g\mapsto\left(g,g^{-1}\right)$. This allows us to give a topology on $\op{GL}_n(R)$ for any topological ring $R$.
\end{example}
\begin{example} \label{ex:topology-on-g-adeles}
	For any affine group $G$ of finite type, we can find a closed embedding $G\subseteq\op{GL}_n$ to produce a topology on $G(R)\subseteq\op{GL}_n(R)$. For the adeles, one can check that the topology is given by
	\[G(\AA_F)=\prod_{v\in V(K)}(G(F_v),G(F_v)\cap\op{GL}_n(\OO_v)).\]
\end{example}

\subsection{Hyperspecial Subgroups}
We would like to understand the subgroups $G(F_v)\cap\op{GL}_n(\OO_v)$ of \Cref{ex:topology-on-g-adeles} in a way which is ambivalent to the embedding. This is a local object, so we begin by telling a local story.
\begin{definition}[unramified]
	Fix a reductive group $G$ over a nonarchimedean local field $F_v$. We say that $G$ is \textit{unramified} if and only if $G$ is quasi-split, and there is a finite unramified extension $E_w/F_v$ such that $G_{E_w}$ is split.
\end{definition}
\begin{theorem}
	Fix a reductive group $G$ over a nonarchimedean local field $F_v$. Then $G$ is unramified if and only if there is a smooth model $\mc G$ of $G$ over $\OO_v$ such that $\mc G_s$ is reductive.
\end{theorem}
\begin{proof}[Sketch]
	We sketch the backwards direction. If we have a model $\mc G$, then we basically pass to the special fiber to find our Borel subgroup and maximal torus; notably, the maximal torus may only split over a finite extension of the residue field, but then this will only require a finite unramified extension in order to split the torus back in $G$.
\end{proof}
The remarkable part of conclusion of the above theorem is not exactly the mere existence of the model but instead having the reductive special fiber. For example, given any embedding $G\subseteq\op{GL}_n$, one can look at the Zariski closure of the composite
\[G\to{\op{GL}_{n,F_v}}\to{\op{GL}_{n,\OO_v}}\]
to produce a model of $G$ over $\OO_v$; in fact, there is a way to smooth out this model as well. However, there is no reason why the special fiber of this thing would be controlled.

This notion of models allows us to discuss subgroups like $G(F_v)\cap\op{GL}_n(\OO_v)$.
\begin{definition}[hyperspecial]
	Fix a reductive group $G$ over a nonarchimedean local field $F_v$. Then a subgroup $H\subseteq G(F_v)$ is \textit{hyperspecial} if and only if there is a smooth model $\mc G$ of $G$ over $\OO_v$ such that $\mc G$ has reductive special fiber, and $H=\mc G(\OO_v)$.
\end{definition}
In fact, we can even give an almost topological description.
\begin{theorem}
	Fix a reductive group $G$ over a nonarchimedean local field $F_v$.
	\begin{listalph}
		\item Every compact subgroup $K\subseteq G(F_v)$ is contained in some maximal compact subgroup.
		\item Every maximal compact subgroup $K\subseteq G(F_v)$ equals $\mc G(\OO_v)$ for some smooth model $\mc G$ of $G$.
		\item All maximal compact subgroups are open.
	\end{listalph}
\end{theorem}
We now transition back to our global theory. The miracle is that we achieve being hyperspecial almost everywhere.
\begin{theorem}
	Fix a reductive group $G$ over a global field $F$, and find a smooth model $\mc G$ of $G$ over $\OO_F^S$ for some finite subset $S\subseteq V(K)$. Then the subgroup $\mc G(\OO_v)$ is hyperspecial for all but finitely many places $v\notin S$.
\end{theorem}
The main point is that $\mc G$ is reductive at the generic fiber, and it turns out that one can spread out the reductivity to a Zariski dense open subset of the special fibers.

Being hyperspecial almost everywhere allows us to recast our topology on $G(\AA_F)$.
\begin{proposition}
	Fix an affine scheme $X$ over a global field $F$ with a smooth model $\mc X$ over $\OO_F^S$. Then there is a natural homeomorphism
	\[X(\AA_F)\to\prod_{v\in V(K)}(X(F_v),\mc X(\OO_v)).\]
\end{proposition}
\begin{corollary}
	Fix a reductive group $G$ over a global field $F$. For any compact open subgroup $K\subseteq G(\AA_F^S)$ for a finite subset $S\subseteq V(K)$, the projection of $K$ onto $G(F_v)$ is hyperspecial for all but finitely many places $v\notin S$.
\end{corollary}
\begin{proof}
	We understand what (compact) open subsets of the restricted direct product look like once given a model, so this follows from the above proposition.
\end{proof}

\subsection{The Adelic Quotient}
For this subsection, take $F$ to be a number field. For this seminar, we are essentially interested in the representation theory of $G(\AA_F)$ for reductive groups $G$. To do number theory, we should really embed $G(F)\to G(\AA_F)$ via $F\into\AA_F$, so perhaps we are really interested in the quotient $G(F)\backslash G(\AA_F)$.

Howver, $G(F)\backslash G(\AA_F)$ is much too large. For example, it will almost always fail to be compact due to the presence of characteres.
\begin{example}
	Take $G=\op{GL}_n$. Then there is a surective composite
	\[\op{GL}_n(\AA_F)\stackrel\det\to\op{GL}_1(\AA_F)\stackrel{\left|\cdot\right|}\to\RR^+.\]
	However, $\op{GL}_n(F)$ goes to the identity!
\end{example}
Thus, to make $G(F)\backslash G(\AA_F)$ smaller, we want to restrict $G(\AA_F)$ down to
\[G(\AA_F)^1=\bigcap_{\chi\in X^*(G)}\ker(\left|\cdot\right|\circ\chi),\]
where $X^*(G)$ is the set of characters $G\to\mathbb G_m$. Note that $\mathbb G_m(F)$ is trivial under $\left|\cdot\right|$, so $G(F)\subseteq G(\AA_F)^1$.

Another reason the quotient $G(F)\backslash G(\AA_F)$ is too large due to the presence of the center. With this in mind, we define $A_G\subseteq G(F_\infty)$ as follows: consider a maximal $\QQ$-split torus in $\op{Res}_{F/\QQ}Z_G$; then we take the connected component of the identity of the $\RR$-points of this thing.
\begin{example}
	We can compute that the maximal $\QQ$-split torus of $\op{Res}_{F/\QQ}\mathbb G_{m,F}$ is $\QQ^\times\subseteq F^\times$. Thus, $A_{\mathbb G_m}=\RR^+$. More generally,
	\[A_{\op{GL}_n}=\{c1_n:c>0\}\subseteq\op{GL}_n(F_\infty).\]
\end{example}
We are now ready to define the adelic quotient.
\begin{definition}[adelic quotient]
	Fix a reductive group $G$ over a global field $F$. Then the \textit{adelic quotient} is the set
	\[[G]\coloneqq A_GG(F)\backslash G(\AA_F).\]
	For a number field $F$, this is the same as $G(F)\backslash G(\AA_F)^1$.
\end{definition}
\begin{remark}[Tamagawa numbers]
	It turns out that $G(F)\backslash G(\AA_F)^1$ may fail to be compact, but it will at least always have finite measure with respect to the Haar measure on $G(\AA_F)^1$.
\end{remark}

\section{October 2nd: Nir Elber}
We had another last-minute cancellation.

\section{October 9th: Sam Goldberg}
Today we're talking about more on the adeles. We will be giving a topological reason why the adeles are a natural object.

\subsection{Characterizing the Adeles}
Let's try to state a characterization. Recall that a topological field $k$ requires addition, multiplication, and inversion to be continuous; we also recall a notion of a topologial $k$-algebra $A$ which requires the scalar multiplication map $k\to A$ to be continuous.
\begin{example}
	Any field $k$ becomes a locally compact topological field by using the discrete topology.
\end{example}
Anyway, here is our theorem.
\begin{theorem}[Iwasawa, Levin]
	Let $F$ be a discrete topological field. Then the following are equivalent.
	\begin{listalph}
		\item $F$ is isomorphic to a global field as a field.
		\item There exists a topological $F$-algebra $A_F$ such that the short exact sequence
		\begin{equation}
			0\to F\to A_F\to A_F/F\to0 \label{eq:adelic-ses}
		\end{equation}
		of topological abelian groups satisfies the following.
		\begin{itemize}
			\item The embedding $F\to A_F$ is a homeomorphism onto its image.
			\item $A_F/F$ is compact.
			\item The sequence \eqref{eq:adelic-ses} does not split.
		\end{itemize}
	\end{listalph}
	In fact, it turns out that $A_F$ is unique up to unique topological $F$-algebra isomorphism and satisfies $A_F\cong\AA_F$.
\end{theorem}
This is a long theorem statement, so some remarks are in order.
\begin{remark}
	One can think of this statement as characterizing both global fields (algebraically!) and the adele ring $A_F$. Approximately speaking, we are claiming that the best topology on a global field $F$ is the discrete topology. To understand this claim, note that this is the only way to give a topology to $F$ so that all the completion maps $F\to F_v$ are continuous (for all places $v$).
\end{remark}
\begin{remark}
	This result makes precise the way that $\ZZ\subseteq\RR$ is analogous to $F\subseteq\AA_F$: namely, $F$ sits inside $\AA_F$ as a discrete cocompact subgroup. In fact, the short exact sequence
	\[0\to\ZZ\to\RR\to\RR/\ZZ\to0\]
	fails to be exact, which provides some motivation for the last condition in (b). Intuitively, we are finding that global fields are precisely the fields which can behave like a lattice, which is why something like Tate's thesis (namely, the Poisson summation formula) can work!
\end{remark}
\begin{remark}
	It is worth noting that providing a characterization (like this) provides an explanation for why number fields and function fields over a curve (over a finite field) are similar. One may hope to write topological proofs of all results downstream from characterizations like this, but of course this is hard.
\end{remark}
\begin{remark}
	Let's explain why the non-splitting is required. Indeed, if we had a splitting, then we would find that $A_F\cong F\oplus M$ where $M$ is a compact $K$-algebra. But then it turns out that $F$ acts on $M$ by zero, which is rather uninteresting. Thus, the non-splitting basically asks that $A_F$ is at least a little interesting.
\end{remark}
\begin{remark}
	The uniqueness here implies that $\AA_F$ has no nontrivial $F$-algebra automorphisms. In particular, the restricted product decomposition of it is the only way to do this.
\end{remark}
\begin{remark}
	The uniqueness of the isomorphism for $A_F$ basically says that there is a unique morphism of short exact sequences. One may hope to upgrade this to a universal property in a category of short exact sequences, but Sam is not sure how to do this.
\end{remark}
Let's give an idea for the proof. Going from (a) to (b) has no content by taking $A_F=\AA_F$. The key is the structure theory of locally compact Hausdorff abelian groups. If $F$ has characteristic $0$, one merely needs to check that $[F:\QQ]<\infty$. If $F$ has positive characteristic, then the main point is finding the transcendental element. Anyway, let's provide the structure theorem we need.
\begin{theorem}[Levin]
	Let $M$ be a locally compact Hausdorff $\OO_F$-module, where $F$ is some global field (given the discrete topology). Then if $M$ has no ``trivial piece,'' then
	\[M\cong R\oplus TM,\]
	where $R$ is a finite sum of infinite completions, and $TM$ is topological torsion. In fact, one can further decompose $TM$ into a restricted direct product
	\[TM=\prod_{\substack{v\in V(F)\\v<\infty}}(M^{\mf p},N\cap M^{\mf p}),\]
	where $M^{\mf p}$ is topological $\mf p$-primary, and $N\subseteq TM$ is any compact open submodule.
\end{theorem}
\begin{remark}
	There is another structure theorem which removes some trivial pieces from $A_F$.
\end{remark}
What is amazing here is that these restricted direct products come out of our structure theory of locally compact Hausdroff abelian groups!

\section{October 16th: Alex Feiner}
Today we are discussing the representation theory of affine algebraic groups.

\subsection{The Regular Representation}
We begin by setting some notation for today.
\begin{itemize}
	\item $G$ is a locally compact Hausdorff group.
	\item If $V$ is a Hausdorff topological vector space, then $\op{End}(V)$ consists of the continuous endomorphisms, and $\op{GL}(V)$ consists of the continuous invertible linear maps.
	\item If $V$ is also a Hilbert space with inner product $(-,-)$, we let the norm be $\norm\cdot_2$, and we let $U(V)\subseteq\op{GL}(V)$ be the subgroup of invertible isometries.
\end{itemize}
In this seminar, we are interested in studying representations of groups $G$, but when $G$ has some extra structure, we would like to ensure that our representaions remember this structure.
\begin{definition}[representation]
	A \textit{representation} of $G$ on $V$ is a continuous (left) group action $G\times V\to V$.
\end{definition}
\begin{remark}
	For each $g\in G$, we thus produce a group homomorphism $\pi\colon G\to\op{GL}(V)$. In the finite-dimensional case, $\pi$ is continuous, but in general, it may fail to be continuous. (One needs to adjust the topology of $\op{GL}(V)$ in some way.)
\end{remark}
\begin{definition}[unitary]
	A representation of $G$ on $V$ is \textit{unitary} if and only if the map $\pi(g)\colon V\to V$ is unitary for all $g\in G$.
\end{definition}
As usual, one can define $G$-equivariant maps between representations $(V,\pi)$ and $(V',\pi')$ as linear maps $\varphi\colon V\to W$ such that
\[\varphi(\pi(g)v)=\pi'(g)\varphi(v)\]
for all $g\in G$ and $v\in V$. This will form a category, so one can reasonably talk about isomorphisms of representations and subrepresentations.

Let's describe a general way to build representations.
\begin{proposition}[regular action] \label{prop:regular-action}
	Suppose that $G$ has a continuous right action on a second-countable locally compact Hausdorff space $X$. Then $X$ has a Haar measure, and we further assume that the Haar measure $dx$ on $X$ is $G$-invariant. Then the space $L^2(X)$ of square-integrable functions on $X$ is a Hilbert space (in the usual way), and the action
	\[(g\varphi)(x)\coloneqq\varphi(xg)\]
	produces a unitary representation $G\times L^2(X,dx)\to L^2(X)$.
\end{proposition}
\begin{proof}
	It is not hard to see that we have a group action, and it is unitary because
	\[(g\varphi_1,g\varphi_2)=\int_G\varphi_1(xg)\overline{\varphi_2(xg)}\,dx\stackrel*=\int_G\varphi_1(x)\overline{\varphi_2(x)}\,dx=(\varphi_1,\varphi_2),\]
	where the key point is that $\stackrel*=$ holds because $dx$ is $G$-invariant. We will not show that the action is continuous, but it is true.
\end{proof}
\begin{remark}
	Because the action is continuous, we see that the collection of compactly supported functions $C_c(X)\subseteq L^2(X)$ is preserved by the given $G$-action.
\end{remark}
\begin{example}
	Note $G$ acts on itself on the right by right multiplication, so we can take $X=G$ above. Notably, we must take a right Haar measure $d_rg$ on $G$ to make this work.
\end{example}

\subsection{The Modular Character}
To produce other examples, we recall the following notion.
\begin{definition}[unimodular]
	A locally compact Hausdorff group $G$ is \textit{unimodular} if and only if its left Haar measures are also right Haar measures.
\end{definition}
\begin{example}
	Fix a locally compact topological ring $R$. Then $\op{GL}_n(R)$ has Haar measure
	\[\frac{dx_{11}\cdots dx_{nn}}{\left|\det(x_{ij})\right|}.\]
	This is both a left and right Haar measure, so $\op{GL}_n(R)$ is unimodular.
\end{example}
\begin{example}
	If $G$ is abelian, then of course left and right multiplications are the same, so $G$ is unimodular.
\end{example}
We will explain later how to check that $G(R)$ is unimodular for any reductive group $G$.

Here is why we care about unimodularity (right now).
\begin{example}
	If $G$ is unimodular, and $H\subseteq G$ is some locally compact Hausdorff subgroup, then $H\backslash G$ gets a right $G$-action, and it even has a quotient measure which is $G$-invariant. Thus, we can also consider the representation $G\times L^2(H\backslash G)\to L^2(H\backslash G)$ from \Cref{prop:regular-action}.
\end{example}
As such, we would like some ways to detect if a group is unimodular.
\begin{definition}[modular character]
	Fix a locally compact group $G$. Fixing a right Haar measure $d_rg$ on $G$, we note that $d_r(gh)$ is still a right Haar measure for any $h\in G$, where $d_r(gh)$ is defined by $d_r(gh)(U)\coloneqq d_r g(Uh)$. Because Haar measures are unique up to scalar, there exists a scalar $\delta_G(h)\in\RR^+$ such that
	\[d_r(gh)=\delta_G(h)\,d_rg.\]
\end{definition}
\begin{remark}
	It turns out $\delta_G$ is a continuous character. Checking the continuity is a corollary of the proof of the existence of the Haar measure, so we will omit it. Checking that it is a character follows from its definition.
\end{remark}
\begin{remark}
	Importantly, we see that
	\[d_rg(hU)=\delta_G(h)d_rg(U)\]
	for any $h$ and $U$, so $G$ is unimodular if and only if $\delta_G$ is the trivial character.
\end{remark}
\begin{example}
	If $G$ is compact, then $\im\delta_G$ must be a compact subgroup of $\RR^+$. However, the only such subgroup is $\{1\}$, so $\delta_G$ is identically $1$, so $G$ is unimodular.
\end{example}

\subsection{Applications to Affine Groups}
We now return to the setting where $G$ is a smooth affine algebraic group defined over a field $k$. Recall that there is a Lie algebra
\[\mf g\coloneqq\op{Lie}G\coloneqq\ker\left(G\left(\frac{k\left[t\right]}{\left(t^2\right)}\to G(k)\right)\right),\]
where the morphism is given by $t\mapsto0$. One can show that this in bijection with derivations at the identity of $\mf g$, so $\mf g$ is a vector space over $k$. Namely, one should think of $\mf g$ as the tangent space of $G$ at the identity.

For example, the adjoint action $\op{Ad}_g\colon G\to G$ for each $g\in G$ (given by conjugation $h\mapsto ghg^{-1}$) to an action on the Lie algebra $\op{Ad}_g\colon\mf g\to\mf g$, so we get a representation of $G$ in $\mf g$. More explicitly, for each $k$-algebra $R$, we see that
\[\mf g(R)\coloneqq\ker\left(G\left(\frac{R\left[t\right]}{\left(t^2\right)}\to G(R)\right)\right)\]
is $\mf g\otimes_kR$. Now, $G(R)$ has an action on both the source and the target of our map by embedding $R\into R[t]/\left(t^2\right)$.
\begin{example}
	For $G=\op{GL}_n$, one finds (as expected) that $\mf g$ consists of $n\times n$ matrices, and the adjoint action is given by conjugation of matrices.
\end{example}
We now specialize to the case where $k\coloneqq F$ is a global field, and let $v$ be a place. Now, as in the study of Lie groups, one can use a left $G$-invariant top differential form $\omega\in\land^n\mf g^*$ to produce a left Haar measure on $G(F_v)$ via integrating compactly supported functions $f\in C_c^\infty(G(F_v))$ against $\omega$.

The moral of the story is that this adjoint action lets us algebraically compute $\delta$!
\begin{proposition} \label{prop:delta-by-adjoint}
	Fix notation as above. For each $g\in G(F_v)$, we have
	\[\delta_{G(F_v)}(g)=\left|\det{\op{Ad}_{g}}\in\op{GL}(\mf g(F_v))\right|.\]
\end{proposition}
\begin{proof}[Sketch]
	The main point is that the modular character can be measured locally, so this will more or less arise from the fact that $\delta$ measures how much ``conjugation by $g$'' impacts a volume computation, which intuitively is the determinant.
\end{proof}
\begin{corollary}
	If $G^\circ\subseteq G$ is reductive, then $G(F_v)$ is unimodular.
\end{corollary}
\begin{proof}
	It is enough to check that $\delta$ vanishes on $G^\circ(F_v)$ (because the quotient $G(F_v)/G^\circ(F_v)$ is finite), so we may assume that $G$ is connected. Then reductive groups split into semisimple parts (which have no nontrivial characters, and hence $\delta=1$) and abelian (which has $\delta=1$ for free), so we are done.
\end{proof}
One can then glue this to see that $G(\AA_F)$ is also unimodular!
\begin{corollary}
	Any right Haar measure on $G(\AA_F)$ is left invariant for $G(F)$. In fact, $G(\AA_F)^1$ is unimodular.
\end{corollary}
\begin{proof}
	We want to check that $\delta$ vanishes on $G(\AA_F)^1\supseteq G(F)$, for which we use the product formula applied to the formula in \Cref{prop:delta-by-adjoint}.
\end{proof}

\section{October 23: Chris Yao}
Today we talk about archimedean representation theory.

\subsection{Defining \texorpdfstring{$(\mf g,K)$}{ (g, K)}-modules}
Today, $G$ will be an affine algebraic group over an archimedean field $F$, and $K$ will be a compact Lie subgroup of $G$. We will work with Hilbert spaces throughout, but there is no difficulty in passing to Frechet spaces. Let $\mf g$ be the Lie algebra of $G$. We begin by defining smooth vectors.
\begin{definition}[smooth vector]
	Let $(\pi,V)$ be a Hilbert space representation of $G(F)$. For $\varphi\in V$ and $X\in\mf g$, we define
	\[\pi(X)\varphi\coloneqq\frac d{dt}\pi(\exp(tX))\varphi\bigg|_{t=0}=\lim_{t\to0}\frac{\pi(\exp(tX))\varphi-\varphi}t,\]
	provided the limit exists. (We will abbreviate this to $X\varphi$ whenever possible.) If $X\varphi$ exists for all $X\in\mf g$, we say that $X$ is $C^1$. Recursively, if $X\varphi$ is in $C^k$ for all $X$, then we say that $\varphi$ is $C^{k+1}$. A vector is \textit{smooth} if and only if it is $C^\infty$; we let $V_{\mathrm{sm}}$ denote the collection of smooth vectors.
\end{definition}
\begin{remark}
	One can check that $\varphi$ is smooth if and only if the map $g\mapsto\pi(g)\varphi$ is a smooth function $G(F)\to V$.
\end{remark}
\begin{remark}
	By interchanging derivatives with actions, we find that the collection of smooth vectors is invariant under $G(F)$.
\end{remark}
\begin{remark}
	From the construction, we see that the collection of smooth vectors grants a Lie algebra representation of $\mf g$.
\end{remark}
The other part of the definition of a $(\mf g,K)$-module comes from restriction to a compact subgroup.
\begin{lemma}
	Fix a locally compact Hausdorff group $G$, and let $K\subseteq G$ be a compact subgroup. For any Hilbert space representation $(\pi,V)$, there is a $K$-invariant Hermitian inner product on $V$.
\end{lemma}
\begin{proof}
	Average the inner product over $K$ using the Haar measure to make sense of integration.
\end{proof}
The point is that compact groups can unitarize their representations. In particular, taking orthogonal complements allows us to see that any irreducible subrepresentation has a complement, which helps prove the following theorem.
\begin{notation}
	Fix a compact Hausdorff group $K$. Then we let $\widehat K$ denote the collection of irreducible representations of $K$, which we make unitary.
\end{notation}
\begin{theorem}[Peter--Weyl] \label{thm:peter-weyl}
	Fix a compact Hausdorf group $K$.
	\begin{listalph}
		\item Any irreducible representation is finite-dimensional.
		\item Any unitary representation decomposes into a Hilbert space direct sum of unitary representations in $\widehat K$.
		\item There is an isomorphism
		\[L^2(K)\to\widehat{\bigoplus_{\pi\in\widehat K}}\op{End}V_\pi.\]
	\end{listalph}
\end{theorem}
We will not say more about this proof; it is rather hard.

We now move directly towards defining a $(\mf g,K)$-module. Well, we would like to temper our representations; one reasonable way to do this is to ask for some kind of finiteness condition, but there are infinitely many elements of $\widehat K$ in general
\begin{definition}
	Fix a compact Hausdorff group $K$. Given a representation $(\pi,V)$ and $\sigma\in\widehat K$, we define
	\[V(\sigma)=\{\varphi\in V:\{\pi(g)\varphi:g\in K\}\cong\sigma\}.\]
	We call $V(\sigma)$ the \textit{$\sigma$-isotypic subspace}, and we say that $v\in V(\sigma)$ has $K$-type of $\sigma$; if $v\in V(\sigma)$ for any $\sigma$, we say that $v$ is \textit{$K$-finite} (because $\sigma$ is finite-dimensional), and we let $V_{\mathrm{fin}}$ denote the collection of these vectors.
\end{definition}
\begin{remark}
	\Cref{thm:peter-weyl} implies that $V_{\mathrm{fin}}$ will be dense in $V$, so there are many of these vectors.
\end{remark}
\begin{definition}[admissible]
	A representation $(\pi,V)$ of a compact Hausdorff group $K$ is \textit{admissible} if and only if $\dim V(\sigma)<\infty$ for all $\sigma\in\widehat K$.
\end{definition}
Admissible is flexible enough for our purposes, as the following theorem claims.
\begin{theorem}
	If $G$ is reductive, then the unitary representations of $G(F)$ are admissible.
\end{theorem}
We are now ready to define $(\mf g,K)$-modules.
\begin{definition}[$(\mf g,K)$-module]
	Fix a compact Lie subgroup $K$ of $G$ and Lie algebra $\mf g$ of $G$. Then a $(\mf g,K)$-module is a vector space $V$ equipped with representations $\pi\colon\mf g\to\mf{gl}(V)$ and $K\to\op{GL}(V)$ satisfying the following.
	\begin{listalph}
		\item $V$ is a countable direct sum of finite-dimensional $K$-invariant subrepresentations.
		\item For all $X\in\mf k$ and $\varphi\in V$, the derivative $X\varphi$ exists.
		\item For $k\in K$ and $X\in\mf g$, we have
		\[\pi(k)\pi(X)\pi(k)^{-1}\varphi=\pi(\op{Ad}_kX)\varphi.\]
	\end{listalph}
	The $(\mf g,K)$-module is \textit{admissible} if and only if $V(\sigma)$ is finite-dimensional for all $\sigma\in\widehat K$.
\end{definition}
As usual, one can define morphisms as preserving the relevant $\mf g$- and $K$-actions. This allows us to define $(\mf g,K)$-submodules and irreducible $(\mf g,K)$-modules.
\begin{example}
	Any Hilbert space representation $(\pi,V)$ of $G(F)$ makes $V_{\mathrm{fin}}\cap V_{\mathrm{sm}}$ densse in $V$, and it provides an example of a $(\mf g,K)$-module. One shows this by convolution with a smooth function.
\end{example}
\begin{remark}
	In fact, if $V$ is admissible, then $V_{\mathrm{fin}}\subseteq V_{\mathrm{sm}}$.
\end{remark}
The underlying $(\mf g,K)$-representation remembers quite a bit about the representation theory of $G$.
\begin{theorem}
	If $G$ is reductive, then an admissible Hilbert space representation $(\pi,V)$ is irreducible if and only if the underlying $(\mf g,K)$-representation is irreducible.
\end{theorem}
In fact, we can discuss some equivalence.
\begin{definition}[infinitesimal equivalence]
	Two admissible representations of $G(F)$ are \textit{infinitesimally equivalent} if and only if their $(\mf g,K)$-modules are isomorphic.
\end{definition}
\begin{theorem}
	Two unitary representations of $G(F)$ are equivalent if and only if they are infinitesimally quivalent.
\end{theorem}

\subsection{\texorpdfstring{$(\mf g,K)$}{(g, K)}-modules for \texorpdfstring{$\op{GL}_2(\RR)$}{GL2(R)}}
We now classify $(\mf g,K)$-modules for $\op{GL}_2(\RR)$. Take $G\coloneqq\op{GL}_2(\RR)$, and we note that $K\coloneqq\op O_2(\RR)$ is a maximal compact subgroup with $K^\circ=\op{SO}_2(\RR)$. We let $B\subseteq G$ be the Borel subgroup of upper-triangular matrices. We now define a few representations.
\begin{definition}[principal series]
	Given a character $\chi$ of $B$, we let the induced representation $\op{Ind}_B^G\chi$ be a \textit{principal series representation}.
\end{definition}
\begin{remark}
	Technically, this induction should remember being integrable in some suitable sense, but we will ignore this.
\end{remark}
\begin{definition}[discrete series]
	An irreducible unitary representation of $G$ is \textit{square-integrable} if and only if it is isomorphic to an irreducible subrepresentation of the regular representation $L^2(G,\chi)$, where $\chi$ is some character. We call these representations the \textit{discrete series}.
\end{definition}
The following theorem will be our key tool.
\begin{theorem}[subrepresentation]
	One has the following.
	\begin{listalph}
		\item Every irreducible $(\mf g,K)$-module arises from an irreducible admissible representation of $G$.
		\item Every irreducible admissible representation of $G$ is infinitesimally equivalent to a subrepresentation of a principal series of $G$.
	\end{listalph}
\end{theorem}
The moral of the story is that we are convinced to be interested in the $(\mf g,K)$-modules of $G$. We do this in steps.
\begin{enumerate}
	\item We classify representations of $K$. Well, $K=\op O_2(\RR)$ is an extension of $\op{SO}_2(\RR)\cong\RR/\ZZ$ by $\ZZ/2\ZZ$. Thus, we note that there is a determinant character $\det\colon\op O_2(\RR)\to\CC^\times$, and the only characters of $\op{SO}_2(\RR)$ are given by $\varepsilon_n(\kappa_\theta)\coloneqq e^{in\theta}$ where $\kappa_\theta\in\op{SO}_2(\RR)$ is rotation by $\theta$. One can then show that the only irreducible representations of $K$ are gien by the trivial character, $\det$, and
	\[\tau_n\coloneqq\op{Ind}_{K^\circ}^K\varepsilon_n.\]
	\item Next, we note that all characters of $B$ are given by characters of the diagonal because $[B,B]$ contains the upper-triangular matrices of the form $\begin{bsmallmatrix}
		1 & b \\ 0 & 1
	\end{bsmallmatrix}$. As such, our unitary characters $\chi\colon B\to\CC^\times$ look like
	\[\chi\left(\begin{bmatrix}
		a & b \\ 0 & d
	\end{bmatrix}\right)=\chi_1(a)\chi_2(b),\]
	where $\chi_1$ and $\chi_2$ take the form $x\mapsto\op{sgn}(x)^\varepsilon\left|x\right|^s$ where $\varepsilon\in\{0,1\}$ and $s$ is purely imaginary. (Namely, $s$ being purely imaginary is what gives being unitary.) We will say $\chi=\chi(\varepsilon_1,\varepsilon_2,s_1,s_2)$ where $\varepsilon_\bullet\in\{0,1\}$ and $s_\bullet\in\CC$ is purely imaginary.
	\item We now induce from $B$ to $G$ to produce representations $V_\chi^\circ\coloneqq\op{Ind}_B^G\chi$, and we let $V_\chi$ be its completion with respect to the natural inner product. Technically speaking, to make sense of the inner product, one must be careful with the modular character of $B$, so $V_\chi^\circ$ contains the functions $f\colon G\to\CC$ satisfying
	\[f(bg)=\chi(b)\sqrt{\left|a/b\right|}\cdot f(g)\]
	for all $g\in G$ and $b\in B$. The point of this is that $\chi$ being unitary yields $V_\chi$ unitary.
	\item From here, one needs to decompose the various $V_\chi$ into their $K$-components and look for what we found.
\end{enumerate}

\section{October 30: Jerry Yang}
Today we will discuss the representation theory of totally disconnected groups.

\subsection{Totally Disconnected Groups}
Let's give some motivation for what we are going to discuss today.
\begin{itemize}
	\item We will not state the local Langlands correspondence, but let us note that the representation theory of totally disconnected groups (in particular, some $p$-adic groups) plays a key role. For a rough sketch, fix a nonarchimedean local field $F_v$, and define the Weil--Deligne group $W_v$ to be generated by the Frobenius and the inertia subgroup of $\op{Gal}(F_v^{\mathrm{sep}}/F_v)$. Then the local Langlands correspondence gives a correspondence between $n$-dimensional representations of $W_v$ and irreducible smooth admissible representations of $\op{GL}_n(F_v)$. It is a primary goal of this talk to define the adjectives ``irreducible,'' ``smooth,'' and ``admissible.''
	\item In this seminar, we are interested in representations of $G(\AA_F)$ for global fields $F$. It will turn out (via Flath's theorem) that the representation theory for $G(\AA_F)$ will split into representation theory of the localizations.
\end{itemize}
We begin by discussing totally disconnected groups, which include our $p$-adic groups.
\begin{definition}[totally disconnected]
	A locally compact Hausdorff space $X$ is \textit{totally disconnected} or \textit{td} if and only if any of the following equivalent conditions are satisfied.
	\begin{listalph}
		\item The topology of $X$ has a basis of open compact sets. In particular, this basis is of clopen sets.
		\item Every subspace $A\subseteq X$ with more than one point is disconnected.
		\item The space $X$ is ``locally profinite,'' in that any point $x\in X$ has an open neighborhood which looks like a profinite set.
	\end{listalph}
\end{definition}
\begin{example}
	We can show that a locally compact Hausdorff group $G$ is td if and only if it has a neighborhood basis of the identity of open compact subgroups. For example, $G=\QQ_p$ has a neighborhood basis of the identity given by the open sets $p^\bullet\ZZ_p$.
\end{example}
\begin{example}
	More generally, if $F$ is any nonarchimedean local field, then the $F$-points $G(F)$ of any affine algebraic group scheme $G$ over $F$ is a td group.
\end{example}
The point is that td groups have very small subgroups around the identity. This is in contrast to the theory of real or complex Lie groups, where open neighborhoods of the identity frequently fail to be closed under multiplication. For example, this allows us to show prove the following.
\begin{lemma}
	The kernel of any homomorphism $\varphi\colon G\to H$ from a td group $G$ to a real or complex Lie group $H$ is open.
\end{lemma}
\begin{remark}
	There is a continuous character on $\QQ_p^\times$ given in Tate's thesis which has dense image in $S^1$. Thus, it is not true that the image is discrete if $G$ fails to be compact.
\end{remark}
The moral is that the theory of complex(!) representations of $G$ is allowed to assume that the target groups are given by the discrete topology. With this in mind, we brutally take the following definition.
\begin{definition}[smooth]
	Fix a td group $G$ and a complex vector space $V$. Then a function $f\colon G\to V$ is \textit{smooth} if and only if it is locally constant. This collection of smooth functions is denoted by $C^\infty(G,V)$, and we let $C^\infty_c(G,V)$ be the subspace of complactly supported functions.
\end{definition}

\subsection{Representation Theory}
We are now ready to define smooth and admissible representations. However, everything should be locally constant for our td groups.
\begin{definition}[smooth]
	Fix a td group $G$ and a complex vector space $V$. A representation $\pi\colon G\times V\to V$ is \textit{smooth} if and only if the stabilizer of each $v\in V$ is open in $G$.
\end{definition}
\begin{remark}
	One can check that this is equivalent to saying that there is an open compact neighborhood of the identity of $G$ acting trivially on $V$.
\end{remark}
\begin{remark}
	For smoothness, we recall that smoothness for archimedean representations amounted to being able to define a Lie algebra representation. Because we are locally constant, this does not exactly make sense for our context.
\end{remark}
Let's see some examples.
\begin{nex}
	Choose an isomorphism $\overline{\QQ_p}\cong\CC$. Then the standard representation of $\op{GL}_n(\QQ_p)$ on $\CC^n$ is not smooth.
\end{nex}
\begin{example}
	Fix a td group $G$. Then the regular representation of $G$ on $C_c(G,\CC)$ is smooth. Explicitly, the action is given by
	\[(gf)(x)\coloneqq f(xg).\]
	Namely, for a locally constant function $f$, we see that $f$ is a sum of finitely many indicators of open compact subsets because it is locally constant and compactly supported, and there is a subgroup of $G$ stabilizing these finitely many open compact subgroups. If $f$ fails to be compactly supported, then we may allow $f$ to be a sum of infinitely many disjoint indicators.
\end{example}
And now we define admissibility, analogously to 
\begin{definition}[admissible]
	Fix a td group $G$ and a complex vector space $V$. A representation $\pi\colon G\times V\to V$ is \textit{admissible} if and only if it is smooth, and
	\[V^K=\{v\in V:K\text{ stabilizes }v\}\]
	is finite-dimensional for each open compact subroup $K\subseteq G$.
\end{definition}
This hypothesis is fairly flexible.
\begin{theorem}
	Fix a nonarchimedean local field $F$, and let $G$ be a reductive group over $F$. 
	\begin{listalph}
		\item Any smooth irreducible representation of $G(F)$ is admissible.
		\item Any irreducible unitary representation of $G(F)$ is admissible. More precisely, if $V$ is a Hilbert space representation of $G(F)$, then we can restrict our representation to the ``smooth part''
		\[V_{\mathrm{sm}}\coloneqq\bigcup_{\substack{K\subseteq G\\K\text{open compact}}}V^K,\]
		which turns out to be admissible.
	\end{listalph}
\end{theorem}
\begin{remark}
	Given any complex representation $V$, one can define $V_{\mathrm{sm}}$ as above, and it turns out that $V_{\mathrm{sm}}\subseteq V$ is a dense subrepresentation, and $V_{\mathrm{sm}}$ is irreducible if and only if $V$ is.
\end{remark}
\begin{example}
	Any smooth representation of $\op{GL}_1(\QQ_p)$ is $1$-dimensional, given basically generated by the two characters $x\mapsto\left|x\right|^s$ for some $s\in\CC$ and $x\mapsto\omega(x)$, where $\omega$ is the cyclotomic character.
\end{example}
\begin{example}[Steinberg]
	The representation theory of $\op{GL}_2(\QQ_p)$ is fairly involved, but let's give an interesting example. Let $\mathrm{St}$ consist of the locally constant functions $\PP^1_{\QQ_p}\to\CC$ modulo the constnat functions. Then $\op{GL}_2(\QQ_p)$ has a natural action on $\PP^1_{\QQ_p}$, so $\op{GL}_2(\QQ_p)$ gets an action on $\mathrm{St}$.
\end{example}

\subsection{Hecke Algebras}
It turns out that one can view representations of $G$ as modules over a Hecke algebra. We begin by considering modules over $C_c^\infty(G,\CC)$.
\begin{definition}[non-degenerate]
	Fix a td group $G$. A $C^\infty_c(G,\CC)$-module $M$ is \textit{non-degenerate} if and only if any element of $M$ can be written as a linear combination
	\[a_1m_1+\cdots+a_rm_r\]
	where $a_1,\ldots,a_r\in C^\infty_c(G,\CC)$ and $m_1,\ldots,m_r\in M$.
\end{definition}
Observe that this definition would have no content if $C^\infty_c(G,\CC)$ has a unit, but this frequently fails to be the case. In general, there is some approximate identity given by taking an ascending limit of functions
\[e_K\coloneqq\frac1{\mu(K)}1_K\]
over all compact open subgroups $K\subseteq G$.

The point is that non-degenerate modules turn out to be in bijection with representations. We now define the Hecke algebra.
\begin{definition}[unramified Hecke algebra]
	Fix a td group $G$ and open compact subgroup $K$. Then the \textit{unramified Hecke algebra} $C_c^\infty(G/K)$ consists of the functions which are $K$-bi-invariant. It has ring multiplication given by convolution.
\end{definition}
The point is that we can recover $K$-invariants of a representation $V$ by $e_k\cdot V=V^K$.

Let's end by explaining the use of the Hecke algebra.
\begin{theorem}
	Fix a nonarchimedean local field $F_v$, and let $G$ be a reductive group over $F_v$ with open compact subgroup $K\subseteq G$. Let $\mc G$ be a model, producing a hyperspecial subgroup $\mc G(\OO_v)$. For any smooth representation $V$, if $V^K$ is nonzero, then $\dim V^K=1$.
\end{theorem}

\section{November 6: Sam Mayo}
Today we are talking about the Satake isomorphism. For today, $F$ is a nonarchimedean local field with ring of integers $\OO$, and $\pi\in\OO$ is a uniformizer. We let $q$ denote the size of the residue field. Lastly, we set $G\coloneqq\op{GL}_n$, and we let $T$ be the maximal split torus of diagonal matrices, and our Weyl group is $W\coloneqq S_n$ (which acts on $T$ by permuting the diagonal entries).

\subsection{Spherical Representations}
We are interested in smooth representations of $G(F)$. We begin with a special subclass.
\begin{definition}[spherical, unramified]
	Fix a split reductive group $G$ over $\OO$. A smooth irreducible representation $V$ of $G$ is \textit{spherical} or \textit{unramified} if and only if there is some $v\in V$ fixed by $G(\OO)$.
\end{definition}
The term ``spherical'' is supposed to be analogous to what happens in the archimedean case, where maximal compact subgroups (which $G(\OO)$ is supposed to be analogous to) look like spheres.

We also have a notion of Hecke algebra.
\begin{definition}[spherical Hecke algebra]
	Fix a split reductive group $G$ over $\OO$. The \textit{spherical Hecke algebra} for $G$, denoted $\mc H^0(G)$ consists of the functions $G(F)\to\CC$ which are locally constant, compactly supported, and $G(\OO)$-invariant on the left and right.
\end{definition}
The hypotheses of $\mc H^0(G)$ work together to give it the structure of an algebra with multiplication given by the convolution operation
\[(f*g)(x)\coloneqq\int_Gf(z)g\left(z^{-1}x\right)\,dz.\]
Here is the point.
\begin{theorem}
	Fix a split reductive group $G$ over $\OO$. There is a bijection between irreducible spherical representations $V$ of $G$ and irreducible representations of $\mc H^0(G)$.
\end{theorem}
In the forward direction, one takes irreducible spherical representations $V$ to the subspace of $G(\OO)$-invar\-iants $V^{G(\OO)}$. Notably, $V^{G(\OO)}$ becomes a representation of $\mc H^0(G)$ by the action
\[f\cdot v\coloneqq\int_Gf(g)(gv)\,dg.\]
In fact, one can upgrade this construction to an equivalence of categories. The point is that one should think about $\mc H^0(G)$ as the group ring for spherical representations.

\subsection{The Cartan Decomposition}
Let's see what our Hecke algebra looks like for $T$.
\begin{example}
	Spherical representations of $T$ (which is abelian) are equvalent to representations of the quotient $T(F)/T(\OO)$ because having one $T(\OO)$-fixed vector means that everything is fixed by $T(\OO)$. However, $T$ is abelian, so we are really looking at representations of the double quotient
	\[T(\OO)\backslash T(F)/T(\OO).\]
	Let's try to understand this quotient. By splitting $T=\mathbb G_m^r$, we see that $T(F)/T(\OO)$ is isomorphic to $(F^\times/\OO^\times)^r=\ZZ^r$, where the second isomorphism is given by taking the norm. To avoid having to take a splitting, one should work with the full coweight lattice $X_*(T)$ of homomorphisms $\mathbb G_m\to T$, and then we have a short exact sequence
	\[1\to T(\OO)\to T(F)\to X_*(T)\to1,\]
	which is independent of any choices. As such, one finds that $\mc H^0(T)=\CC[X_*(T)]$.
\end{example}
For $G=\op{GL}_n$, we need the following linear algebra result.
\begin{theorem}[Cartan decomposition]
	One has
	\[\op{GL}_n(F)=\bigsqcup_{\substack{k_1\le\cdots\le k_n\\k_1,\ldots,k_n\in\ZZ^n}}G(\OO)\begin{bmatrix}
		\pi^{k_1} \\ & \ddots \\ && \pi^{k_n}
	\end{bmatrix}G(\OO).\]
\end{theorem}
This is simply the Smith normal form for $\OO$; in particular, one can hope to do some explicit linear algebra to do the decomposition. In general, one has the following result, given by translating the notion of these increasing sequeneces into weights.
\begin{theorem}[Cartan decomposition]
	Fix a split reductive group $G$ over $\OO$. Then
	\[G(F)=\bigsqcup_{\substack{\lambda\in X_*(T)\\\lambda\text{ dominant}}}G(\OO)\lambda(\pi)G(\OO).\]
\end{theorem}
The point is that $\mc H^0(G)$ has a basis given by indicators on these double cosets $G(\OO)\lambda(\pi)G(\OO)$. In fact, by computing the commutators explicitly, one can see that $\mc H^0(G)$ is commutative.
\begin{corollary}
	Fix a split reductive group $G$ over $\OO$. Then $\mc H^0(G)$ is commutative.
\end{corollary}
\begin{proof}
	We write out the argument for $G=\op{GL}_n$. The point is that we have an anti-involution $(\cdot)^\intercal$ on $G$ (this is the transpose), so it extends to an anti-involution on the spherical Hecke algebra $\mc H^0({\op{GL}_n})$ via $f^\intercal(x)\coloneqq f(x^\intercal)$. Namely, we see that
	\[(fg)^\intercal=g^\intercal f^\intercal\]
	by a direct computation. However, by computing $(\cdot)^\intercal$ on the basis, we see that it is the identity, so we conclude that $\mc H^0(G)$ is commutative! For general $G$, one can use a similar involution called the Chevalley involution.
\end{proof}
\begin{corollary}
	Fix a split reductive group $G$ over $\OO$. The irreducible representations of $\mc H^0(G)$ are one-dimensional. 
\end{corollary}
\begin{proof}
	This is immediate from $\mc H^0(G)$ being commutative.
\end{proof}
\begin{corollary} \label{cor:towards-satake}
	Fix a split reductive group $G$ over $\OO$ with maximal split torus $T$ and Weyl group $W$. There is an isomorphism $\mc H^0(G)\to\mc H^0(T)^W$ of vector spaces.
\end{corollary}
\begin{proof}
	We know that $\mc H^0(G)$ has basis indexed by dominant coweights in $X_*(T)$, which can then be summed over $W$ to produce something in $\mc H^0(T)^W$.
\end{proof}

\subsection{The Satake Transform}
\Cref{cor:towards-satake} is not trying to produce an isomorphism of algebras, which is false. To fix this, we will instead try to build a map $\mc H^0(G)\to\mc H^0(T)$ by restriction to $T$. This is a little funny to do, for the following somewhat vague reason: the torus $T$ should really be thought of as a quotient $B/N$ where $B\subseteq G$ is some Borel subgroup, and $N$ is its unipotent radical. Borel subgroups are somewhat more natural to look at from the perspective of representation theory.

We are now ready to define the Satake transform. Given $f\in\mc H^0(G)$, we want to restrict along the diagram
\[G\supseteq B\onto B/N\cong T.\]
The inclusion $G\supseteq B$ should correspond to an actual restriction, but along $B\onto B/N$ one should be integrating along fibers. As such, we define
\[Sf(t)\coloneqq\delta_B(t)^{1/2}\int_Nf(tn)\,dn,\]
where $\delta_B$ is the modular character. (The modular character is needed to make sure that our integrals are suitably invariant.)
\begin{theorem}[Satake]
	Fix a split reductive group $G$ over $\OO$. Let $B$ be a Borel subgroup with unipotent radical $N$, and set $T\coloneqq B/N$ to be a maximal split torus. Then $S\colon\mc H^0(G)\to\mc H^0(T)^W$ is an isomorphism.
\end{theorem}
This is fairly difficult to show, though one can of course write everything out in sufficient detail for (say) $G=\op{SL}_2$. Roughly speaking, one sends the basis of indicator functions to the restriction with some correction terms coming from smaller coweights.

\subsection{A Little Langlands}
To end our discussion, we say something about the local Langlands correspondence. The classical theory of Lie algebras and Lie groups provides a bijection between finite-dimensional irreducible representations of a complex Lie group $\check G(\CC)$ with dominant weights (which are in bijection with $W$-orbits in $X^*(T)$).

One can translate this into an isomorphism of the representation ring of $\check G(\CC)$ with $\CC[X^*(T)]^W$, which looks suspiciously similar to what we have done above in the nonarchimedean setting. However, the caveat is that the rest of our discussion has been working with $X_*(T)$ instead of $X^*(T)$. As such, one needs a notion of duality: given our nonarchimedean group $G$, one knows that there is a dual group $^LG$ whose torus $\check T$ canonically has $X_*(T)\cong X^*(\check T)$. Then Langlands duality should boil down to the observation
\[\mc H^0(G)\stackrel S\cong\mc H^0(T)^W\cong\CC[X_*(T)]^W\cong\CC[X^*(\check T)]^W\cong\op{Rep}\check G(\CC).\]
Thus, we have related nonarchimedean representation theory to complex representation theory! Explicitly, we see that irreducible smooth spherical represntations of $V$ are in bijection with irreducible modules of $\mc H^0(G)$, which are just one-dimensional and hence in bijection with maps $\mc H^0(G)\to\CC$. The above chain then puts this in bijection with maps $\op{Rep}\check G(\CC)\to\CC$, which classical representation theory argues is in bijection with semisimple conjugacy classes (given by some character theory).
\begin{remark}
	One can construct an inverse for this construction given by principal series!
\end{remark}

\end{document}